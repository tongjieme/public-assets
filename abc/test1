import org.apache.http.client.HttpClient;
import org.apache.http.conn.ssl.NoopHostnameVerifier;
import org.apache.http.conn.ssl.TrustManagerBuilder;
import org.apache.http.impl.client.HttpClients;
import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;
import org.springframework.web.client.RestTemplate;

import javax.net.ssl.SSLContext;

public class SSLIgnoreRestTemplate {

    public static RestTemplate createRestTemplate() throws Exception {
        // Create a custom SSLContext that trusts all certificates
        SSLContext sslContext = SSLContext.getInstance("TLS");
        sslContext.init(null, TrustManagerBuilder.create().build().getTrustManagers(), null);

        // Configure the HttpClient to use the custom SSLContext
        HttpClient httpClient = HttpClients.custom()
                .setSSLContext(sslContext)
                .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)
                .build();

        // Create a request factory with the custom HttpClient
        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);

        // Create the RestTemplate with the custom request factory
        return new RestTemplate(requestFactory);
    }

    public static void main(String[] args) throws Exception {
        RestTemplate restTemplate = createRestTemplate();

        // Use the restTemplate for your API requests
        // ...
    }
}
