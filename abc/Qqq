const fs = require('fs');
const path = require('path');

function findYmlFiles (directoryPath) {
   // Read the content of the directory
   fs.readdir(directoryPath, function (err, files) {
      if (err) {
         return console.error('Unable to scan directory: ' + err);
      }

      // Iterate through all files
      files.forEach(function (file) {
         let filePath = path.join(directoryPath, file);

         // Check file stats
         fs.stat(filePath, function (err, stats) {
            if (err) return console.error(err);

            if (stats.isDirectory()) {
               // If it's an directory, lookup files in this directory
               findYmlFiles(filePath);
            } else if (path.extname(file) === '.yml') {
               // If it's a file, and this file is a .yml file, print it's absolute path
               console.log(filePath);
            }
         });

      });
   });
}

// Change './' with path to your directory
findYmlFiles('./');
