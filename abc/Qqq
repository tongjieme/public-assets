const fs = require('fs');
const path = require('path');

function searchStringInDirectory(dir, searchString) {
    fs.readdirSync(dir).forEach(file => { 
        let fullPath = path.join(dir, file);

        if (fs.statSync(fullPath).isDirectory()) {
            searchStringInDirectory(fullPath, searchString);
        } else if (fs.statSync(fullPath).isFile() && fullPath.endsWith(".txt")) {
            fs.readFile(fullPath, 'utf8', function(err, data) {
                if (err) throw err;
                let lines = data.split('\n');
                lines.forEach((line, i) => {
                    if (line.includes(searchString)) {
                        console.log(`${fullPath} - line ${i + 1}`);
                    }
                });
            });
        }
    });
}

const folderPath = '/path/to/your/folder';
const searchString = 'your string';
searchStringInDirectory(folderPath, searchString);
