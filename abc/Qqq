const fs = require('fs').promises;
const path = require('path');

async function searchStringInDirectory(dir, searchString) {
    const files = await fs.readdir(dir);

    for (const file of files) {
        const fullPath = path.join(dir, file);
        const stat = await fs.stat(fullPath);

        if (stat.isDirectory()) {
            await searchStringInDirectory(fullPath, searchString);
        } else if (stat.isFile() && fullPath.endsWith(".txt")) {
            const data = await fs.readFile(fullPath, 'utf8');
            const lines = data.split('\n');
            lines.forEach((line, i) => {
                if (line.includes(searchString)) {
                    console.log(`${fullPath} - line ${i + 1}`);
                }
            });
        };
    };
};

const folderPath = '/path/to/your/folder';
const searchString = 'your string';
searchStringInDirectory(folderPath, searchString);
