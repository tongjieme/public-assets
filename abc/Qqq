function getPreviousWeekday() {
    var yesterday = moment().subtract(1, 'days');

    // check if yesterday was Sunday (day 0), if so go back additional 2 days to Friday
    if (yesterday.day() === 0) {
        yesterday = yesterday.subtract(2, 'days');
    } 
    // check if yesterday was Saturday (day 6), if so go back additional 1 day to Friday
    else if (yesterday.day() === 6) {
        yesterday = yesterday.subtract(1, 'days');
    }

    return yesterday.format('YYYY-MM-DD'); // return date in the format: 'YYYY-MM-DD'
}

console.log(getPreviousWeekday());
