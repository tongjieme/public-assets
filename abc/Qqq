public <T> T deserializeObject(Class<T> type, String filePath) {
    T obj = null;
    try {
        FileInputStream file = new FileInputStream(filePath);
        ObjectInputStream in = new ObjectInputStream(file);

        obj = type.cast(in.readObject());

        in.close();
        file.close();
    } catch (IOException ex) {
        System.out.println("IOException occurred");
        ex.printStackTrace();
    } catch (ClassNotFoundException ex) {
        System.out.println("ClassNotFoundException occurred");
        ex.printStackTrace();
    }
    return obj;
}
